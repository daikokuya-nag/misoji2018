/********************写真のカルーセル表示********************/var carouselObj;var hPix;var vPix;var orien;var SLPIX = '800';	//'512';	//小画面、ランドスケープvar SPPIX = '400';	//小画面、ポートレイトvar LLPIX = '800';	//1280;	//1024;	//大画面、ランドスケープvar LPPIX = '400';	//大画面、ポートレイトvar MIN_CLIENT_WIDTH = 400;var MAX_CLIENT_WIDTH = 800;var BOTH_FLIP_WIDTH;var CAROUSEL_LIST;function setCarousel() {	carouselObj = $('.carouselList');	setAreaPix();	/* ←→ボタンの高さ調整 *///	setBtnHeight();	setCarouselListWidth();	/***** 写真フリックでスクロール *****/	setFlip();}$(window).on("orientationchange resize" ,function() {	setWin('o');	carouselObj.slick('unslick');	setFlip();});$(document).ready(function() {var widthL = $(".flipLeft").width();var widthR = $(".flipRight").width();var borderRL = $(".flipRight").css('border-left-width');var borderRR = $(".flipRight").css('border-right-width');var borderLL = $(".flipRight").css('border-left-width');var borderLR = $(".flipRight").css('border-right-width');	borderRL = parseInt(borderRL);	borderRR = parseInt(borderRR);	borderLL = parseInt(borderLL);	borderLR = parseInt(borderLR);	BOTH_FLIP_WIDTH = widthL + widthR + borderRL + borderRR + borderLL + borderLR + 1;				console.debug('BOTH_FLIP_WIDTH' + BOTH_FLIP_WIDTH);	CAROUSEL_LIST = $('div.carouselList');});/********************写真のフリック表示********************/function setFlip() {var slides = 1;var slickW = $(".carouselList").width();console.debug('slickW' + slickW);var num = slickW / 140;	if(num < 2 && num > 1.5) {		var divide = Math.ceil(slickW / 2) - 30;console.debug('divide' + divide);		$("img.wivesThumbNail").css("width" ,divide + 'px');		slides = 2;	} else {		$("img.wivesThumbNail").css("width" ,'110px');		slides = Math.floor(num);	}	if(slides < 1) {		slides = 1;	}console.debug(slickW + ' ' + num + ' ' + slides);				console.debug('at setFlip() ' + slickW + ' ' + hPix + ' ' + slides);	carouselObj.slick({		slidesToShow:slides,	//2,		//5 ,		slidesToScroll: 1 ,		arrows:false	});}/********************←→ボタンの高さ調整********************/function setBtnHeight() {var className = "#photoArea";var height = $(className).height();var paddingT = parseInt($(className).css("padding-top"));var paddingB = parseInt($(className).css("padding-bottom"));	$(".flipPhoto").height(height + paddingT + paddingB);}function scrollCarPrev() {	carouselObj.slick('slickPrev');}function scrollCarNext() {	carouselObj.slick('slickNext');}/***************************************************/function isUseOrien() {var ret;var isAndroid = navigator.userAgent.indexOf('Android') != -1;	if(typeof window.onorientationchange === 'object' && ! isAndroid) {		ret = true;	} else {		ret = false;	}	return ret;}function setWin(mode) {	if(mode =='o') {		setAreaPix();		setOrien();		setViewport();		setAreaPix();		setOrien();		setViewport();		showInfo();	} else {		setAreaPix();		setOrien();		setViewport();		showInfo();	}	setCarouselListWidth();}function setCarouselListWidth() {		//var msg = $("#msg").html() + ' ' + mode + ',';		//	$("#msg").html(msg);//var marginL = CAROUSEL_LIST.css('margin-left');//var marginR = CAROUSEL_LIST.css('margin-right');//var paddingL = CAROUSEL_LIST.css('padding-left');//var paddingR = CAROUSEL_LIST.css('padding-right');var wivesIListWidth   = $("#wivesListI").width();//var carouselListWidth;//	marginL = parseInt(marginL);//	marginR = parseInt(marginR);//	paddingL = parseInt(paddingL);//	paddingR = parseInt(paddingR);//	carouselListWidth = wivesIListWidth;// - BOTH_FLIP_WIDTH - (marginL + marginR + paddingL + paddingR);//					console.debug('wivesIListWidth ' + wivesIListWidth);//					console.debug('carouselListWidth ' + carouselListWidth);	$("#todaysWorkerList").width(wivesIListWidth);	$("#todaysWorkerListW").width(wivesIListWidth);}/*$(window).resize(function() {});$(window).on("orientationchange",function(){});*//**********幅と高さの取得**********/function setAreaPix() {var width  = document.documentElement.clientWidth;	//window.innerWidth;	//$('body').width();var height = document.documentElement.clientHeight;	//window.innerHeight;	//$('body').height();	hPix = width;	vPix = height;		//console.debug('高さ取得:' + hPix);		//console.debug('幅:' + hPix);}/**********縦置き、横置きの判定**********/function setOrien() {	if(hPix > vPix) {		orien = 'L';	} else {		orien = 'P';	}}/**********縦置き、横置きの判定の取出し**********/function getOrien() {	return orien;}/**********ビューポートの再設定**********/function setViewport() {var o = getOrien();var pix;	if(MobileEsp.DetectTierTablet()) {		//大画面		if(o == 'L') {			pix = LLPIX;		} else {			pix = LPPIX;		}	} else {		//小画面		if(o == 'L') {			pix = SLPIX;		} else {			pix = SPPIX;		}	}var newVP = document.createElement('meta');	newVP.setAttribute('name'    ,'viewport');		//newVP.setAttribute('content' ,'width=' + pix + ',user-scalable=no');	newVP.setAttribute('content' ,'width=' + pix);var oldVP = document.querySelector('meta[name=viewport]');	oldVP.parentNode.replaceChild(newVP ,oldVP);/*document.querySelector("meta[name=viewport]").content="width=" + pix; */}function setHeightMain(minHeight ,targetID) {var bh = $("body").height();var hh = $("header").height();var fh = $("footer").height();var adjustH = bh - (hh + fh + 55);	console.debug(bh + ' ' + hh + ' ' + fh + ' ' + adjustH);	if(adjustH > minHeight) {		$("#" + targetID).height(adjustH);	}}function getVer() {var d1  = new Date();var ret = d1.getTime();	return ret;}/**************************** ↓↓テスト用↓↓ ****************************/function showInfo() {var o = getOrien();	$("#info1").html('h:' + hPix + ' v:' + vPix + ' o:' + o);/*var width  = $('body').width();var height = $('body').height();*/var width  = document.documentElement.clientWidth;	//window.innerWidth;		//$('body').width();var height = document.documentElement.clientHeight;	//window.innerHeight;	//$('body').height();	$("#info2").html('h:' + width + ' v:' + height);}function showWidthHeight() {	$("#winWidth").html(width);//	$("#winHeight").html(height);}